# Проект "Достижения пользователей"

Проект реализует набор API- ручек, позволяющих создавать достижения, добавлять
их пользователям, а также получать статистические данные по ним.

## Плюсы проекта

- Он может запуститься и не успасть сразу же;
- Проект реализует требуемые "ручки" API;
- Отчасти проект документирует сам себя благодаря встроенному в FastAPI
  endpoint'у `/docs`;
- Автор проявил фантазию в отношении названий и описаний достижений.

## Минусы проекта

- Все endpoint'ы свалены в кучу в перемешку с pydantic- моделями и объявлениями
  роутеров;
- Внутренняя логика каждого endpont'а реалезована прямо в endpoint'е, что сильно
  усложняет тестирование и дальнейшее переиспользование кода;
- Лишь один endpoint (`add_achievement_to_user`) имеет возможность известить
  пользователя о том, что пользовательские данные не корректны.

## Соображения

Проект нуждается в рефакторинге и последующей доработке:
- Вынос логики из endpoint'ов, приведение его к принципу единой ответственности;
- Перетаскивание кода туда-сюда, например, следует вынести все Pydantic модели в
  отдельное место;
- Реализовать тестирование, логирование и корректную обработку ошибок.


## Запуск

Для запуска проекта потребуется запустить docker-compose проект, разворачивающий
контейнер с базой данных, а затем, используя корень проекта в качестве рабочей
директории и осущствляя действия ударного характера по бубну, следует запустить
сам проект `uvicorn src.main:app`.

Внутри директории requirements находятся два файла зависимостей, обычный и dev. Dev зависимости необходимы для работы модуля utils.py,
который при старте приложения, если в `.env` параметр DEVELOPMENT выставлен в True, заполнит базу данных несколькими записями пользователей и достижений. Вместе с этим, если и параметр CLEAR_TABLES выставлен в True, то это приведет к удалению всех данных из таблиц.
